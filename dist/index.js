import{useState as n,useEffect as r,createContext as t,useContext as e,useReducer as o}from"react";import{jsx as i}from"react/jsx-runtime";var a=["0","1","2","3","4","5","6","7","8","9","10","11"],u=function(n,r){if(!r)return n;for(var t=0,e=Object.entries(r);t<e.length;t++){var o=e[t],i=o[0],a=o[1];n=n.replaceAll("{".concat(i,"}"),a.toString())}return n},l=function(n,r,t){if(void 0===n&&(n=""),"object"!=typeof n)return u(n,r);if(!t)return u(n[5],r);var e="1",o=Math.floor(t/10)%10==1;!o&&[2,3,4].includes(t%10)&&(e="2"),(o||[5,6,7,8,9,0].includes(t%10))&&(e="5");var i=n[e];if(r)for(var a=0,l=Object.entries(r);a<l.length;a++){var c=l[a],v=c[0],f=c[1];i=i.replaceAll("{".concat(v,"}"),f.toString())}return u(i,r)},c=3600,v=86400,f=function(n,r,t,e,o){var i=Math.round((+new Date-n)/1e3);return e&&i<v*e?o?function(n,r){var t=r,e=Math.round((+new Date-n)/1e3);if(e<30)return l(t.just);if(e<60)return l(t.seconds,{seconds:e},e);if(e<c){var o=Math.floor(e/60);return l(t.minutes,{minutes:o},o)}if(e<v){var i=Math.floor(e/c);return l(t.hours,{hours:i},i)}if(e<2*v)return l(t.yesterday);var a=Math.floor(e/v);return l(t.more,{days:a},a)}(n,o):"":r&&t?function(n,r,t){var e=new Date(n),o=e.getDate(),i=e.getMonth().toString(),a=e.getFullYear(),u=r;return(u=(u=u.replace("{day}",o.toString())).replace("{month}",t[i])).replace("{year}",a.toString())}(n,r,t):""},d="langpackupdate",s=new Event(d),g=function(){"undefined"!=typeof window&&dispatchEvent(s)},h=null,m=function(){return h},p=function(n){h=n,g()},y=function(n,r,t){var e=m();if(!(null==e?void 0:e.commons))return"";var o=e.commons[n];return l(o,r,t)},w=function(n,r,t,e,o){var i,a,u,l=m();if(!(null==l?void 0:l.commons)||!l.dates||!(null==l?void 0:l.relativeDates))return"";var c=null===(i=null==l?void 0:l.dates)||void 0===i?void 0:i[r],v=null===(a=null==l?void 0:l.months)||void 0===a?void 0:a[t],d=o?null===(u=null==l?void 0:l.relativeDates)||void 0===u?void 0:u[o]:void 0;return f(n,c,v,e,d)},D=function(t){var e=t.unixtime,o=t.dateLangKey,i=t.monthsLangKey,a=t.relativeFromDay,u=t.relativeLangKey,l=n(""),c=l[0],v=l[1];return r((function(){if(e){var n=w(e,o,i,a,u);v(n)}}),[o,i,a,u,e]),e?c:""},L=function(){return L=Object.assign||function(n){for(var r,t=1,e=arguments.length;t<e;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o]);return n},L.apply(this,arguments)},j=t({getLang:function(){return""},getLangDate:function(){return""}}),M=function(){return e(j)},b=function(n){var t=n.children,e=o((function(n){return n+1}),0)[1];r((function(){return window.addEventListener(d,e),function(){window.removeEventListener(d,e)}}),[]);var a={getLang:y,getLangDate:w};return i(j.Provider,L({value:a},{children:t}))};export{b as LangsProvider,y as getLang,w as getLangDate,a as monthKeys,p as setLangPack,D as useClientDate,M as useLangs};
//# sourceMappingURL=index.js.map
