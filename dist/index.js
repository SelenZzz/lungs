import{createContext as t,useContext as r,useState as n,useEffect as e}from"react";import{jsx as o}from"react/jsx-runtime";var a=t({getLang:function(){return""},getLangDate:function(){return""}}),i=function(){return r(a)},u=function(t){var r=t.unixtime,o=t.dateLangKey,a=t.monthsLangKey,u=t.relativeFromDay,l=t.relativeLangKey,c=i().getLangDate,v=n(""),f=v[0],g=v[1];return e((function(){if(r){var t=c(r,o,a,u,l);g(t)}}),[o,c,a,u,l,r]),r?f:""},l=function(){return l=Object.assign||function(t){for(var r,n=1,e=arguments.length;n<e;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t},l.apply(this,arguments)},c=function(t,r){if(!r)return t;for(var n=0,e=Object.entries(r);n<e.length;n++){var o=e[n],a=o[0],i=o[1];t=t.replaceAll("{".concat(a,"}"),i.toString())}return t},v=function(t,r,n){if(void 0===t&&(t=""),"object"!=typeof t)return c(t,r);if(!n)return c(t[5],r);var e="1",o=Math.floor(n/10)%10==1;!o&&[2,3,4].includes(n%10)&&(e="2"),(o||[5,6,7,8,9,0].includes(n%10))&&(e="5");var a=t[e];if(r)for(var i=0,u=Object.entries(r);i<u.length;i++){var l=u[i],v=l[0],f=l[1];a=a.replaceAll("{".concat(v,"}"),f.toString())}return c(a,r)},f=3600,g=86400,s=function(t,r,n,e,o){var a=Math.round((+new Date-t)/1e3);return e&&a<g*e?o?function(t,r){var n=r,e=Math.round((+new Date-t)/1e3);if(e<30)return v(n.just);if(e<60)return v(n.seconds,{seconds:e},e);if(e<f){var o=Math.floor(e/60);return v(n.minutes,{minutes:o},o)}if(e<g){var a=Math.floor(e/f);return v(n.hours,{hours:a},a)}if(e<2*g)return v(n.yesterday);var i=Math.floor(e/g);return v(n.more,{days:i},i)}(t,o):"":r&&n?function(t,r,n){var e=new Date(t),o=e.getDate(),a=e.getMonth().toString(),i=e.getFullYear(),u=r;return(u=(u=u.replace("{day}",o.toString())).replace("{month}",n[a])).replace("{year}",i.toString())}(t,r,n):""},d="yermak-langs-cache",h=function(){localStorage.removeItem(d)},m=!1,p=function(t){var r=t.children,i=t.hash,u=t.getLangPack,c=n(null),f=c[0],g=c[1];e((function(){if(!m){var t,r=function(){var t,r=(null!==(t=localStorage.getItem(d))&&void 0!==t?t:"").slice(0,32);return 32!==r.length?(h(),null):r}();t=i===r?u():function(){var t,r=(null!==(t=localStorage.getItem(d))&&void 0!==t?t:"").slice(32),n=JSON.parse(r);return"object"!=typeof n?(h(),null):n}(),t&&(g(t),m=!0),t&&i!==r&&function(t){var r=JSON.stringify(t),n=t.hash+r;localStorage.setItem(d,n)}(t)}}),[f]);var p={getLang:function(t,r,n){var e,o=null===(e=null==f?void 0:f.commons)||void 0===e?void 0:e[t];return v(o,r,n)},getLangDate:function(t,r,n,e,o){var a,i,u,l=null===(a=null==f?void 0:f.dates)||void 0===a?void 0:a[r],c=null===(i=null==f?void 0:f.months)||void 0===i?void 0:i[n],v=o?null===(u=null==f?void 0:f.relativeDates)||void 0===u?void 0:u[o]:void 0;return s(t,l,c,e,v)}};return o(a.Provider,l({value:p},{children:r}))},y=["0","1","2","3","4","5","6","7","8","9","10","11"];export{p as LangsProvider,y as monthKeys,u as useDate,i as useLangs};
//# sourceMappingURL=index.js.map
