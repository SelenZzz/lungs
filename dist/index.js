import{useState as r,useEffect as t,createContext as n,useContext as e}from"react";import"react/jsx-runtime";var o=["0","1","2","3","4","5","6","7","8","9","10","11"],a=function(r,t){if(!t)return r;for(var n=0,e=Object.entries(t);n<e.length;n++){var o=e[n],a=o[0],i=o[1];r=r.replaceAll("{".concat(a,"}"),i.toString())}return r},i=function(r,t,n){if(void 0===r&&(r=""),"object"!=typeof r)return a(r,t);if(!n)return a(r[5],t);var e="1",o=Math.floor(n/10)%10==1;!o&&[2,3,4].includes(n%10)&&(e="2"),(o||[5,6,7,8,9,0].includes(n%10))&&(e="5");var i=r[e];if(t)for(var u=0,l=Object.entries(t);u<l.length;u++){var c=l[u],v=c[0],f=c[1];i=i.replaceAll("{".concat(v,"}"),f.toString())}return a(i,t)},u=3600,l=86400,c=function(r,t,n,e,o){var a=Math.round((+new Date-r)/1e3);return e&&a<l*e?o?function(r,t){var n=t,e=Math.round((+new Date-r)/1e3);if(e<30)return i(n.just);if(e<60)return i(n.seconds,{seconds:e},e);if(e<u){var o=Math.floor(e/60);return i(n.minutes,{minutes:o},o)}if(e<l){var a=Math.floor(e/u);return i(n.hours,{hours:a},a)}if(e<2*l)return i(n.yesterday);var c=Math.floor(e/l);return i(n.more,{days:c},c)}(r,o):"":t&&n?function(r,t,n){var e=new Date(r),o=e.getDate(),a=e.getMonth().toString(),i=e.getFullYear(),u=t;return(u=(u=u.replace("{day}",o.toString())).replace("{month}",n[a])).replace("{year}",i.toString())}(r,t,n):""},v=new Event("langpackupdate"),f=null,s=function(){return f},d=function(r){f=r,r&&function(r){var t=JSON.stringify(r),n=r.hash+t;localStorage.setItem("yermak-langs-cache",n)}(r),dispatchEvent(v)},g=function(r,t,n){var e=s();if(!(null==e?void 0:e.commons))return"";var o=e.commons[r];return i(o,t,n)},m=function(r,t,n,e,o){var a,i,u,l=s();if(!(null==l?void 0:l.commons)||!l.dates||!(null==l?void 0:l.relativeDates))return"";var v=null===(a=null==l?void 0:l.dates)||void 0===a?void 0:a[t],f=null===(i=null==l?void 0:l.months)||void 0===i?void 0:i[n],d=o?null===(u=null==l?void 0:l.relativeDates)||void 0===u?void 0:u[o]:void 0;return c(r,v,f,e,d)},h=function(n){var e=n.unixtime,o=n.dateLangKey,a=n.monthsLangKey,i=n.relativeFromDay,u=n.relativeLangKey,l=r(""),c=l[0],v=l[1];return t((function(){if(e){var r=m(e,o,a,i,u);v(r)}}),[o,a,i,u,e]),e?c:""},p=n({getLang:function(){return""},getLangDate:function(){return""}}),y=function(){return e(p)};export{g as getLang,m as getLangDate,o as monthKeys,d as setLangPack,h as useClientDate,y as useLangs};
//# sourceMappingURL=index.js.map
